cd ~/binance1

ls


Git durumuna bak
git status

KÄ±rmÄ±zÄ± gÃ¶rÃ¼nen dosyalar â†’ deÄŸiÅŸmiÅŸ veya yeni dosyalar
YeÅŸil dosyalar â†’ commitâ€™e hazÄ±rolanlar


TÃ¼m deÄŸiÅŸiklikleri commitâ€™e ekle
git add .

ğŸ‘‰ Bu tÃ¼m gÃ¼ncellenen dosyalarÄ± commitâ€™e dahil eder.


Commit oluÅŸtur
git commit -m "Update project files"


DeÄŸiÅŸiklikleri GitHubâ€™a push et

Push komutu:

git push origin main


EÄŸer branchâ€™in master ise:

git push origin master


Branch'i bilmiyorsan:

git branch


(Ã¼zerinde yÄ±ldÄ±z (*) olan aktif branch)


Her ÅŸey yolundaysa Ã§Ä±ktÄ± ÅŸÃ¶yle gÃ¶rÃ¼nÃ¼r
Enumerating objects: 12, done.
Counting objects: 100% (12/12), done.
Delta compression using up to 8 threads
Compressing objects: 100% (8/8), done.
Writing objects: 100% (10/10), done.
To https://github.com/kasm01/binance1.git
   128f471..523cab2  main -> main


Bu Ã§Ä±ktÄ±yÄ± gÃ¶rÃ¼nce â†’ proje tamamen GitHubâ€™a gÃ¼ncellenmiÅŸtir.
------------------------------------------------
--------------------------------------------------
. DeÄŸiÅŸiklikleri kontrol et

Son dÃ¼zenlemeleri gÃ¶rmek iÃ§in:

git status


TÃ¼m deÄŸiÅŸen dosyalarÄ± listeler.

âœ… 2. ADIM â€” VMâ€™DEKÄ° DEÄÄ°ÅÄ°KLÄ°KLERÄ° GITHUBâ€™A GÃ–NDERMEK
ğŸ”¹ 2.1. Ã–nce deÄŸiÅŸiklikleri staging alanÄ±na al
git add .


Sadece bazÄ± dosyalarÄ± eklemek istersen:

git add .env.example core/okx_client.py config/settings.py

ğŸ”¹ 2.2. Commit mesajÄ± yaz
git commit -m "ENV template updated + OKX config added + VM sync"

ğŸ”¹ 2.3. GitHubâ€™a gÃ¶nder
git push


Bu iÅŸlemden sonra GitHubâ€™daki repo tamamen VM ile senkron olur.

âœ… 3. ADIM â€” CLOUD RUN ORTAMIYLA SENKRONÄ°ZASYON

Cloud Run, .env dosyasÄ±nÄ± kullanmaz.
Cloud Run â†’ Environment Variables Ã¼zerinden Ã§alÄ±ÅŸÄ±r.

O yÃ¼zden yeni .env dosyandaki her deÄŸiÅŸkeni Cloud Runâ€™a da eklemen gerekiyor.

ğŸ”¹ 3.1. Cloud Run'a Ã§evrim dÄ±ÅŸÄ± anahtarlarÄ± eklemek

Google Cloud console â†’
Cloud Run â†’ servise tÄ±kla â†’ Edit & Deploy New Revision â†’ Variables â†’ Environment Variables

Åuradaki deÄŸiÅŸkenleri tek tek gir:

BINANCE_API_KEY

BINANCE_API_SECRET

OKX_API_KEY

OKX_API_SECRET

OKX_PASSPHRASE

TELEGRAM_BOT_TOKEN

TELEGRAM_CHAT_ID

REDIS_HOST

REDIS_PORT

REDIS_PASSWORD
â€¦ ve .env iÃ§inde ne varsa hepsi.

Alternatif: Secret Manager Ã¼zerinden baÄŸlayabilirsin.

ğŸ”¹ 3.2. Cloud Runâ€™Ä± terminalden env ile gÃ¼ncellemek (isteÄŸe baÄŸlÄ±)

EÄŸer terminalden yapmak istersen:

gcloud run services update binance1-pro-bot \
  --region=europe-west2 \
  --set-env-vars BINANCE_API_KEY=xxxx \
  --set-env-vars BINANCE_API_SECRET=yyyy \
  --set-env-vars OKX_API_KEY=... \
  --set-env-vars OKX_API_SECRET=... \
  --set-env-vars OKX_PASSPHRASE=...


Ya da Secret Manager kullanarak:

gcloud run services update binance1-pro-bot \
  --region=europe-west2 \
  --set-secrets BINANCE_API_KEY=projects/xxx/secrets/BINANCE_API_KEY:latest \
  --set-secrets OKX_API_KEY=projects/xxx/secrets/OKX_API_KEY:latest

âœ… 4. ADIM â€” DOÄRULUK KONTROLÃœ
ğŸ” 4.1. VM Ã¼zerinde bot envâ€™leri doÄŸru okuyor mu?
python - << 'EOF'
from dotenv import load_dotenv
import os
load_dotenv(".env")
print("BINANCE:", os.getenv("BINANCE_API_KEY"))
print("OKX KEY:", os.getenv("OKX_API_KEY"))
print("SYMBOL:", os.getenv("SYMBOL"))
EOF

ğŸ” 4.2. Cloud Runâ€™da env var mÄ± kontrol et
gcloud run services describe binance1-pro-bot --region=europe-west2


Ã‡Ä±ktÄ±da env: bÃ¶lÃ¼mÃ¼nde tÃ¼m deÄŸiÅŸkenleri gÃ¶rmelisin.

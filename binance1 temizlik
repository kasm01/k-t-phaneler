nano ~/cloudshell_cleanup.sh


#!/usr/bin/env bash
set -euo pipefail

echo "======================================="
echo "   ğŸŒ¥  Google Cloud Shell TemizliÄŸi   "
echo "======================================="
echo

# KÃ¼Ã§Ã¼k helper
confirm() {
  local prompt="$1"
  read -r -p "$prompt [y/N]: " ans
  case "$ans" in
    [yY][eE][sS]|[yY]) return 0 ;;
    *) return 1 ;;
  esac
}

########################################
# 1) Disk kullanÄ±mÄ±nÄ± gÃ¶ster
########################################
echo "â¡  Mevcut disk kullanÄ±mÄ±:"
df -h ~
echo

########################################
# 2) Docker temizliÄŸi (varsa)
########################################
if command -v docker &>/dev/null; then
  echo "â¡  Docker bulundu."
  if confirm "Docker image/container cache'ini temizlemek ister misin? (docker system prune -a)"; then
    docker system prune -a -f
    echo "âœ… Docker cache temizlendi."
  else
    echo "â­  Docker temizliÄŸi atlandÄ±."
  fi
else
  echo "â„¹  Docker komutu bulunamadÄ±, docker temizliÄŸi atlanÄ±yor."
fi
echo

########################################
# 3) pip cache temizliÄŸi
########################################
if command -v pip &>/dev/null; then
  echo "â¡  pip bulundu."
  if confirm "pip cache'i temizlemek ister misin? (pip cache purge)"; then
    pip cache purge || true
    echo "âœ… pip cache temizlendi."
  else
    echo "â­  pip temizliÄŸi atlandÄ±."
  fi
else
  echo "â„¹  pip komutu bulunamadÄ±, pip temizliÄŸi atlanÄ±yor."
fi
echo

########################################
# 4) /tmp altÄ±nÄ± temizleme
########################################
echo "â¡  /tmp dizini kullanÄ±mÄ±:"
du -sh /tmp 2>/dev/null || true
echo

if confirm "/tmp iÃ§eriÄŸini temizlemek ister misin? (rm -rf /tmp/*)"; then
  rm -rf /tmp/* || true
  echo "âœ… /tmp temizlendi."
else
  echo "â­  /tmp temizliÄŸi atlandÄ±."
fi
echo

########################################
# 5) Home iÃ§indeki bÃ¼yÃ¼k klasÃ¶rleri gÃ¶ster
########################################
echo "â¡  Home dizinindeki (~/) en bÃ¼yÃ¼k klasÃ¶rler:"
du -sh ~/* 2>/dev/null | sort -h | tail -n 10 || true
echo
echo "âš   Ä°stersen bÃ¼yÃ¼k klasÃ¶rleri elle silebilirsin, Ã¶rneÄŸin:"
echo "   rm -rf ~/some_big_folder"
echo

########################################
# 6) Son durum
########################################
echo "â¡  Temizlik sonrasÄ± disk kullanÄ±mÄ±:"
df -h ~
echo
echo "âœ… Cloud Shell temizlik iÅŸlemi tamamlandÄ±."
echo "   (Bu script'i dÃ¼zenleyip daha agresif hale getirebilirsin.)"
echo "======================================="




kaydet, Ã§Ä±k. sonra alttakiyle Ã§alÄ±ÅŸtÄ±rÄ±labilir yap.

chmod +x ~/cloudshell_cleanup.sh
